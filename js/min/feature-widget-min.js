!function(e){function n(){i&&(o(n),e.fx.tick())}for(var i,a=0,t=["webkit","moz"],o=window.requestAnimationFrame,r=window.cancelAnimationFrame;a<t.length&&!o;a++)o=window[t[a]+"RequestAnimationFrame"],r=r||window[t[a]+"CancelAnimationFrame"]||window[t[a]+"CancelRequestAnimationFrame"];o?(window.requestAnimationFrame=o,window.cancelAnimationFrame=r,e.fx.timer=function(a){a()&&e.timers.push(a)&&!i&&(i=!0,n())},e.fx.stop=function(){i=!1}):(window.requestAnimationFrame=function(e,n){var i=(new Date).getTime(),t=Math.max(0,16-(i-a)),o=window.setTimeout(function(){e(i+t)},t);return a=i+t,o},window.cancelAnimationFrame=function(e){clearTimeout(e)})}(jQuery);var featureParallaxEffect=function(e){var n=$(".feature"),i="featureWrapper";n.wrap("<div class='"+i+"'></div>"),n.append("<div class='feature__parallax-background-image'></div>");var a=0,t=0,o=0,r=0,c=!1;widgetBackground=n.find(".feature__parallax-background-image"),backgroundImage=n.find(".feature__background-image").css("background-image"),backgroundPosition=parseFloat(n.find(".feature__background-image").css("background-position").split(" ")[1]),bgScrollEffectThreshold=90,windowHeight=0,windowOffset=$(window).scrollTop(),bgScrollEffectEnabled=!0,featureStuckEnabled=!0,fadeOutEffectEnabled=!0,scrollProgress=0,scrolling=!1,resizing=!1,resizeTimer=0,mobileDevice=!1;var s=function(){n.removeClass("stuck"),n.css("top","0px"),resizing=!1,a=$(".featureWrapper").width(),t=n.height(),o=n.offset(),r=o.top+t,windowHeight=$(window).height(),c=r>windowHeight?!0:!1,n.width(a),$("."+i).height(t)};navigator.userAgent.match(/(iPod|iPhone|iPad|android)/)&&(mobileDevice=!0),$(".feature__parallax-background-image").css({"background-image":backgroundImage}),widgetBackground.css("background-position","50%"+backgroundPosition+"%"),s(),widgetBackground.css({top:-o.top});var d=function(e){if(0==mobileDevice){var n=.3*-t*Math.pow(e,2);widgetBackground.css("transform","translate3d(0px, "+n+"px,0)")}},f=function(e){var i=0;c&&(i=r-o.top-windowHeight),featureStuckEnabled&&windowOffset+1>=o.top&&1==c?(n.addClass("stuck"),n.css("top",-Math.max(0,i)+"px")):featureStuckEnabled&&0==c?(n.addClass("stuck"),n.css("top",o.top+"px")):(n.removeClass("stuck"),n.css("top","0px"))},l=function(e){opacity=Math.min(1,(1-e).toFixed(2)),n.find(".content-inner-wrap").css("opacity",opacity)};window.onscroll=function(e){scrolling=!0,windowOffset=Math.max(0,$(window).scrollTop())},$(window).on("resize",function(e){clearTimeout(resizeTimer),resizeTimer=setTimeout(function(){resizing=!0,s(),w()},250)});var u=function(){requestAnimationFrame(u),windowOffset<r&&scrolling&&(w(),requestAnimationFrame(u)),scrolling=!1},w=function(){var i=0,a=r;c?(fadeOutEffectEnabled=!1,featureStuckEnabled=!1,bgScrollEffectEnabled=!1,windowOffset>=r-windowHeight&&(featureStuckEnabled=!0,fadeOutEffectEnabled=!0,bgScrollEffectEnabled=!0,i=r-windowHeight,a=windowHeight)):(featureStuckEnabled=!0,fadeOutEffectEnabled=!0,bgScrollEffectEnabled=!0),scrollProgress=Math.min(1,parseFloat(0+1/a*(windowOffset-i)).toFixed(4)),bgScrollEffectEnabled&&0==resizing&&d(scrollProgress),0==resizing&&f(scrollProgress),fadeOutEffectEnabled&&0==resizing&&l(scrollProgress),"destroy"==e&&(n.find(".content-inner-wrap").css("opacity",1),n.css("transform","translate(0px, 0px )"),widgetBackground.css("background-position","50%"+backgroundPosition+"%"))};requestAnimationFrame(u)};$(window).on("load",function(e){featureParallaxEffect()});
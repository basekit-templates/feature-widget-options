// -----------------------------
// PLUGINS: Ecommerce
// -----------------------------

// -----------------------------
// #Table of Contents
// -----------------------------

// 1. #Element Defaults
// 2. #Single Product
// 3. #Product List
// 4. #Basket Widget
// 5. #Basket Summary
// 6. #Ecommerce Images


// -------------------------------
// 1. #Element Defaults
// -------------------------------

// Remove list margin
.product-list,
.ecom-product-image-list,
.basket-list,
.categories-list,
.product-gallery {
    margin: 0;
    list-style: none;
}

// Typography (Removes padding)
.product-item-title,
.product-item-price,
.item-quantity,
.basket-item-price,
.summary-title,
.summary-item-title,
.summary-item-price,
.summary-item-total,
.order-total,
.summary-item-price-title,
.summary-item-total-title,
.product-category,
.tags-title {
    padding-bottom: 0;
}





// -------------------------------
// 2. #Single Product
// -------------------------------

.product-gallery .gallery-item {
    display: inline-block;
    vertical-align: top;
    width: 80px;
    height: 80px;
}

.product-image .image-link {
    background-position: -9999px;
    background-repeat: no-repeat;
}
.product-image .image-link:hover {
    cursor: -webkit-zoom-in;
    cursor: -moz-zoom-in;
}

// Hide Product Image (use BG)
.product-image .image {
    display: none;
}

// Product Gallery (Thumbnails)
.product-gallery {
    margin: 20px 0;
}


// Product Actions (Form)
// ----------------------

.product-actions {
    margin: 20px 0;
}

button.icon--add.added {
    background: green;
    &:before {
        content: "\f00c";
        display: inline;
    }
}

// Add To Cart Button
.js-ecom-product-add-to-cart-btn:disabled {
    opacity: .3;
}


// Product Attibutes
// -----------------

.product-attributes {
    margin: 10px 0;
}

// Tax Explainer
.ecomproduct__tax-explainer {
    margin-top: 1em;
    font-size: 12px;
    line-height: 1.2;
    color: fade($color__p--text, 50%);
}



// -------------------------------
// 3. #Product List
// -------------------------------

// Product Filters
.product-filters {

    .form-group {
        display: inline-block;
        vertical-align: bottom;
        margin-right: 10px;
    }

    // Submit Button
    .input--search {
        height: 36px;
    }

}

// Listing Order (Showing 'x' products)
.listing-order {
    padding: 20px 0;
}


// Product Item Details
.product-item-details {
    margin-top: 20px;
}

// Product List Pagination
.listing-pagination .pagination-item {
    display: inline-block;
}




// -------------------------------
// 4. #Basket Widget
// -------------------------------

.basket-body {
    display: none; // Hide by default
}
.show-content .basket-body {
    display: block; // Display on click
}

// Basket Toggle / Item
.basket-toggle {
    margin-bottom: 20px;
}
.basket-item {
    position: relative;
    margin-bottom: 20px;
    &:last-child {
        margin-bottom: 0;
    }
}

// Basket Total
.basket-footer {
    margin-top: 20px;
}

// Item Remove Button
.item-remove {
    padding: 2px 4px;
    font-size: 12px;
    line-height: 12px;

    // Remove icon spacing
    &:before {
        margin-right: 0;
    }
}




// -------------------------------
// 5. #Basket Summary
// -------------------------------

.summary-table {
    width: 100%;
    // Table Row
    .table-row {
        @media #{$mobile}  {
            display: -webkit-box;
            display: -moz-box;
            display: -ms-flexbox;
            display: -webkit-flex;
            display: flex;
            -webkit-box-direction: normal;
            -moz-box-direction: normal;
            -webkit-box-orient: vertical;
            -moz-box-orient: vertical;
            -webkit-flex-direction: column;
            -ms-flex-direction: column;
            flex-direction: column;

            border-bottom: 1px solid darken($color__body--background,10%);
        }
    }

    // Table Row Heading
    .table-row--heading {
        @media #{$mobile} {
            display: none;
        }
    }

    // Column: Image
    .cell--image {
        vertical-align: top;
        width: 15%;
    }

    // Summary Item Link

    .summary-item-link {
        background-position: -1000%;
    }

    // Table Cell: General
    .cell {
        vertical-align: middle;
        padding: 8px 12px;
        border-radius: 0;
        @media #{$mobile} {
            width: 100%;
            border: 0;
            display: block;
        }
        &:not(.cell--title):before {
            @media #{$mobile} {
                content: attr(data-title);
                display: block;
                font-size: 12px;
                line-height: 1.2;
            }
        }
    }

    // Column: Price & Total
    .cell--price,
    .cell--total {
        width: 10%;
        @media #{$mobile} {
            border-top: 1px solid darken($color__body--background,10%);
        }
    }

    // Column: Title
    .cell--title {
        width: 50%;
        @media #{$mobile} {
            width: 100%;
            padding-top: 0;
            padding-bottom: 0;
        }
    }

    // Column: Quantity
    .cell--quantity {
        width: 15%;
        @media #{$mobile} {
            width: 100%;
            padding-bottom: 20px;
        }
    }

}


// Basket Quantity
// ---------------

// Quantity Wrap
.quantity-wrap {
    display: -webkit-box;
    display: -webkit-flex;
    display: -ms-flexbox;
    display: flex;
    -webkit-box-pack: justify;
    -webkit-justify-content: space-between;
    -ms-flex-pack: justify;
    justify-content: space-between;

    width: 70%;
    background-color: darken($color__body--background,5%);

    @media #{$tablet} {
        width: 100%;
    }
    @media #{$mobile} {
        width: initial;
        max-width: 90px;
        margin-top: 0.5em;
    }

    // Quantity Inputs
    .button--quantity {
        width: 20px;
        height: 20px;
        padding: 0;
        line-height: initial;
    }
}


// Quantity Buttons
// ----------------

.quantity-minus.js-remove:disabled,
.quantity-minus.js-add:disabled {
    opacity: .3;
}




// -------------------------------
// 6. #Ecommerce Images
// -------------------------------

// Image centering technique
// -------------------------

// Surrounding image divs
.product-item-image,
.product-item-image .image-link,
.product-gallery .gallery-item,
.product-image .image-link,
.basket-item-image .image-link {
    width: 100%;
    background-color: darken($color__body--background,5%);
    background-repeat: no-repeat;
    background-position: -9999px;
    overflow: hidden; // Stops large images overflowing
    text-align: center;
}

// Image Element
.product-item-image .image,
.product-gallery .image-button,
.product-image .image,
.basket-item-image .image {
    display: inline-block;
    vertical-align: middle; // Vertically centers image
    max-width: 100%; // Allows image to fill the width or height
    max-height: 100%;
}

// Product List
// ------------

// Sets individual height & alignments for all image
// elements using this method of centering

// Product List
.product-item-image,
.product-item-image .image-link {
    height: 200px;
    line-height: 200px; // Line height matches div height
}
// Single Product
.product-image .image-link {
    height: 400px;
    line-height: 400px;
    @media #{$tablet} {
        height: 300px;
        line-height: 300px;
    }
    @media #{$mobile} {
        height: 200px;
        line-height: 200px;
    }
}
// Basket
.basket-item-image .image-link {
    width: 80px;
    height: 80px;
    line-height: 80px;
    background-repeat: no-repeat;
    background-position: -9999px;
}


// Single Product Thumbnails
// -------------------------

.product-gallery .gallery-item {
    width: 80px;
    height: 80px;
    line-height: 80px;
    cursor: pointer;
    @media #{$mobile} {
        width: 60px;
        height: 60px;
        line-height: 60px;
    }
}


